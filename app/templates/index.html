{% extends "base.html" %}

{% block title %}Tuesday Lunch - Longview Business Group{% endblock %}

{% block body_class %}bg-stadium-grass{% endblock %}

{% block nav_class %}bg-transparent{% endblock %}

{% block content %}
<div class="min-h-[80vh] flex flex-col items-center justify-center -mt-8">

    <!-- Admin Login Link (Top Right Corner) -->
    <div class="fixed top-20 right-4 z-10">
        <a href="{{ url_for('admin.login') }}"
           class="text-white text-opacity-60 hover:text-opacity-100 text-sm font-condensed uppercase tracking-wider transition-all">
            <i class="fas fa-lock mr-1"></i> Secretary
        </a>
    </div>

    <!-- Main Title Banner -->
    <div class="text-center mb-8">
        <h1 class="font-jersey text-5xl md:text-7xl text-white drop-shadow-lg tracking-wider leading-tight">
            <span class="text-yellow-400">TUESDAY</span><br>
            <span class="text-white">LUNCH CLUB</span>
        </h1>
        <p class="font-condensed text-lg md:text-xl text-white text-opacity-80 uppercase tracking-widest mt-4">
            Longview Business Networking Group
        </p>
    </div>

    <!-- Login Card (Metal Texture) -->
    <div class="w-full max-w-md mx-4">
        <div class="texture-metal p-1 relative">
            <!-- Screws -->
            <div class="absolute top-2 left-2 screw-head"></div>
            <div class="absolute top-2 right-2 screw-head"></div>
            <div class="absolute bottom-2 left-2 screw-head"></div>
            <div class="absolute bottom-2 right-2 screw-head"></div>

            <div class="border-2 border-gray-400 rounded-lg overflow-hidden">

                <!-- Header Strip -->
                <div class="texture-scoreboard px-6 py-4 text-center">
                    <h2 class="font-jersey text-2xl text-yellow-400 tracking-wider">MEMBER LOGIN</h2>
                </div>

                <!-- Login Form -->
                <div class="bg-white bg-opacity-95 p-6">
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, message in messages %}
                                <div class="mb-4 p-3 rounded-lg text-sm {% if category == 'error' %}bg-red-100 text-red-800 border border-red-300{% else %}bg-green-100 text-green-800 border border-green-300{% endif %}">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}

                    <p class="font-condensed text-gray-600 mb-6 text-center">
                        Enter your email to receive a magic login link.
                    </p>

                    <form method="POST" action="{{ url_for('member.login') }}">
                        <div class="mb-6">
                            <label for="email" class="block font-condensed text-sm font-bold text-gray-700 uppercase tracking-wider mb-2">
                                Email Address
                            </label>
                            <input type="email"
                                   id="email"
                                   name="email"
                                   required
                                   autocomplete="email"
                                   placeholder="you@example.com"
                                   class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-condensed text-lg">
                        </div>

                        <button type="submit"
                                class="w-full bg-blue-900 text-white py-3 px-4 rounded-lg font-jersey text-xl uppercase tracking-wider hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 transition-colors shadow-lg border-2 border-blue-700">
                            Send Login Link
                        </button>
                    </form>

                    <div class="mt-6 text-center">
                        <p class="text-sm text-gray-500 font-condensed">
                            No password needed - check your email for a link!
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Feature Icons -->
    <div class="mt-12 grid grid-cols-3 gap-6 max-w-md mx-4 text-center">
        <div class="text-white text-opacity-80">
            <div class="text-3xl mb-2"><i class="fas fa-utensils"></i></div>
            <p class="font-condensed text-xs uppercase tracking-wider">Weekly Lunches</p>
        </div>
        <div class="text-white text-opacity-80">
            <div class="text-3xl mb-2"><i class="fas fa-camera"></i></div>
            <p class="font-condensed text-xs uppercase tracking-wider">Photo Gallery</p>
        </div>
        <div class="text-white text-opacity-80">
            <div class="text-3xl mb-2"><i class="fas fa-users"></i></div>
            <p class="font-condensed text-xs uppercase tracking-wider">Host Rotation</p>
        </div>
    </div>

</div>
{% endblock %}

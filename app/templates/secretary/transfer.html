{% extends "base.html" %}

{% block title %}Transfer Secretary Role{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto space-y-6">

    <!-- Header -->
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-2xl font-bold text-gray-900">Transfer Secretary Role</h1>
            <p class="text-gray-600">Pass the torch to another member</p>
        </div>
        <a href="{{ url_for('secretary.dashboard') }}" class="text-blue-600 hover:text-blue-800">
            ← Back
        </a>
    </div>

    <!-- Warning -->
    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
        <div class="flex items-start gap-3">
            <span class="text-yellow-600 text-xl">⚠️</span>
            <div>
                <p class="text-yellow-800 font-medium">This action cannot be undone by you</p>
                <p class="text-yellow-700 text-sm mt-1">
                    Once you transfer the secretary role, you will lose access to the secretary portal.
                    Only the app admin or the new secretary can restore your access.
                </p>
            </div>
        </div>
    </div>

    <!-- Transfer Form -->
    <form method="POST" action="{{ url_for('secretary.transfer_role') }}" class="bg-white rounded-lg shadow p-6 space-y-6">

        <div>
            <label for="new_secretary_id" class="block text-sm font-medium text-gray-700 mb-2">
                Select New Secretary
            </label>
            <select name="new_secretary_id" id="new_secretary_id" required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg text-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <option value="">-- Choose a member --</option>
                {% for member in members %}
                    {% if member.id != current_member_id %}
                        <option value="{{ member.id }}">{{ member.name }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>

        <!-- Confirmation Checkbox -->
        <div class="flex items-start gap-3">
            <input type="checkbox" name="confirm" value="yes" id="confirm" required
                   class="mt-1 h-5 w-5 text-red-600 rounded border-gray-300 focus:ring-red-500">
            <label for="confirm" class="text-gray-700">
                I understand that I will <strong>immediately lose</strong> secretary access and cannot undo this myself.
            </label>
        </div>

        <!-- Submit Button -->
        <button type="submit"
                class="w-full bg-red-600 text-white text-lg font-bold py-4 rounded-lg hover:bg-red-700 transition-colors">
            Transfer Secretary Role
        </button>

    </form>

</div>
{% endblock %}
